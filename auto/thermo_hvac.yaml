#thermo hvac
#thermo hvac
- alias: Thermostat - Input Select
  trigger:
    - platform: state
      entity_id: sensor.ecobee_hvac
      state: 'cool'
    - platform: state
      entity_id: sensor.ecobee_hvac
      state: 'heat'
    - platform: state
      entity_id: sensor.ecobee_hvac
      state: 'auto'
    - platform: state
      entity_id: sensor.ecobee_hvac
      state: 'off' 
  action:
    service: input_select.select_option
    entity_id: input_select.thermo_hvac
    data_template:
      option: >
        {% if is_state('sensor.ecobee_hvac', 'auto') %}
          Auto
        {% elif is_state('sensor.ecobee_hvac', 'cool') %}
          Cool
        {% elif is_state('sensor.ecobee_hvac', 'heat') %}
          Heat
        {% elif is_state('sensor.ecobee_hvac', 'off') %}
          Off
        {% else %}
        {% endif %}


- alias: Thermostat - Select Input
  trigger:
    - platform: state
      entity_id: input_select.thermo_hvac
      state: 'Auto'
    - platform: state
      entity_id: input_select.thermo_hvac
      state: 'Cool'
    - platform: state
      entity_id: input_select.thermo_hvac
      state: 'Heat'
    - platform: state
      entity_id: input_select.thermo_hvac
      state: 'Off'
  action:
    service: thermostat.set_hvac_mode
    entity_id: thermostat.ecobee
    data_template:
      hvac_mode: >
        {% if is_state('input_select.thermo_hvac', 'Auto') %}
          auto
        {% elif is_state('input_select.thermo_hvac', 'Cool') %}
          cool
        {% elif is_state('input_select.thermo_hvac', 'Heat') %}
          heat
        {% elif is_state('input_select.thermo_hvac', 'Off') %}
          off
        {% else %}
        {% endif %}

